<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 5 Security considerations | FMISD13207 Cloud Security Technologies</title>
  <meta name="description" content="Chapter 5 Security considerations | FMISD13207 Cloud Security Technologies" />
  <meta name="generator" content="bookdown 0.25 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 5 Security considerations | FMISD13207 Cloud Security Technologies" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 5 Security considerations | FMISD13207 Cloud Security Technologies" />
  
  
  

<meta name="author" content="Kęstutis Daugėla" />


<meta name="date" content="2022-05-01" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="project-scope.html"/>
<link rel="next" href="implementation-in-gcp.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>



<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Information Security Technologies</a></li>

<li class="divider"></li>
<li><a href="index.html#introduction">Introduction<span></span></a></li>
<li class="chapter" data-level="1" data-path="type-of-attacks.html"><a href="type-of-attacks.html"><i class="fa fa-check"></i><b>1</b> Type of attacks<span></span></a></li>
<li class="chapter" data-level="2" data-path="data-breach---case-study.html"><a href="data-breach---case-study.html"><i class="fa fa-check"></i><b>2</b> Data Breach - Case Study<span></span></a>
<ul>
<li class="chapter" data-level="2.1" data-path="data-breach---case-study.html"><a href="data-breach---case-study.html#twitch"><i class="fa fa-check"></i><b>2.1</b> Twitch<span></span></a></li>
<li class="chapter" data-level="2.2" data-path="data-breach---case-study.html"><a href="data-breach---case-study.html#phizer"><i class="fa fa-check"></i><b>2.2</b> Phizer<span></span></a></li>
<li class="chapter" data-level="2.3" data-path="data-breach---case-study.html"><a href="data-breach---case-study.html#citybee"><i class="fa fa-check"></i><b>2.3</b> Citybee<span></span></a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="public-cloud.html"><a href="public-cloud.html"><i class="fa fa-check"></i><b>3</b> Public Cloud<span></span></a>
<ul>
<li class="chapter" data-level="3.1" data-path="public-cloud.html"><a href="public-cloud.html#public-cloud-security"><i class="fa fa-check"></i><b>3.1</b> Public Cloud Security<span></span></a></li>
<li class="chapter" data-level="3.2" data-path="public-cloud.html"><a href="public-cloud.html#infrastructure-as-code"><i class="fa fa-check"></i><b>3.2</b> Infrastructure as Code<span></span></a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="project-scope.html"><a href="project-scope.html"><i class="fa fa-check"></i><b>4</b> Project Scope<span></span></a>
<ul>
<li class="chapter" data-level="4.1" data-path="project-scope.html"><a href="project-scope.html#platform-for-anatical-applications"><i class="fa fa-check"></i><b>4.1</b> Platform for anatical applications<span></span></a></li>
<li class="chapter" data-level="4.2" data-path="project-scope.html"><a href="project-scope.html#kubernetes-and-docker"><i class="fa fa-check"></i><b>4.2</b> Kubernetes and Docker<span></span></a></li>
<li class="chapter" data-level="4.3" data-path="project-scope.html"><a href="project-scope.html#shiny-server-without-security"><i class="fa fa-check"></i><b>4.3</b> Shiny Server without security<span></span></a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="security-considerations.html"><a href="security-considerations.html"><i class="fa fa-check"></i><b>5</b> Security considerations<span></span></a>
<ul>
<li class="chapter" data-level="5.1" data-path="security-considerations.html"><a href="security-considerations.html#certificates-and-tls"><i class="fa fa-check"></i><b>5.1</b> Certificates and TLS<span></span></a></li>
<li class="chapter" data-level="5.2" data-path="security-considerations.html"><a href="security-considerations.html#single-sign-on"><i class="fa fa-check"></i><b>5.2</b> Single Sign On<span></span></a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="security-considerations.html"><a href="security-considerations.html#oauth2"><i class="fa fa-check"></i><b>5.2.1</b> OAuth2<span></span></a></li>
<li class="chapter" data-level="5.2.2" data-path="security-considerations.html"><a href="security-considerations.html#saml"><i class="fa fa-check"></i><b>5.2.2</b> SAML<span></span></a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="security-considerations.html"><a href="security-considerations.html#network"><i class="fa fa-check"></i><b>5.3</b> Network<span></span></a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="implementation-in-gcp.html"><a href="implementation-in-gcp.html"><i class="fa fa-check"></i><b>6</b> Implementation in GCP<span></span></a>
<ul>
<li class="chapter" data-level="6.1" data-path="implementation-in-gcp.html"><a href="implementation-in-gcp.html#conteinarization"><i class="fa fa-check"></i><b>6.1</b> Conteinarization<span></span></a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="implementation-in-gcp.html"><a href="implementation-in-gcp.html#cloud-run"><i class="fa fa-check"></i><b>6.1.1</b> Cloud Run<span></span></a></li>
<li class="chapter" data-level="6.1.2" data-path="implementation-in-gcp.html"><a href="implementation-in-gcp.html#gke"><i class="fa fa-check"></i><b>6.1.2</b> GKE<span></span></a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="implementation-in-gcp.html"><a href="implementation-in-gcp.html#shiny-app-security-features"><i class="fa fa-check"></i><b>6.2</b> Shiny App security features<span></span></a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="implementation-in-gcp.html"><a href="implementation-in-gcp.html#shiny-server-authentication"><i class="fa fa-check"></i><b>6.2.1</b> Shiny server authentication<span></span></a></li>
<li class="chapter" data-level="6.2.2" data-path="implementation-in-gcp.html"><a href="implementation-in-gcp.html#shiny-authorization"><i class="fa fa-check"></i><b>6.2.2</b> Shiny authorization<span></span></a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="implementation-in-gcp.html"><a href="implementation-in-gcp.html#cloud-security"><i class="fa fa-check"></i><b>6.3</b> Cloud Security<span></span></a>
<ul>
<li class="chapter" data-level="6.3.1" data-path="implementation-in-gcp.html"><a href="implementation-in-gcp.html#firewalls"><i class="fa fa-check"></i><b>6.3.1</b> Firewalls<span></span></a></li>
<li class="chapter" data-level="6.3.2" data-path="implementation-in-gcp.html"><a href="implementation-in-gcp.html#dns"><i class="fa fa-check"></i><b>6.3.2</b> DNS<span></span></a></li>
<li class="chapter" data-level="6.3.3" data-path="implementation-in-gcp.html"><a href="implementation-in-gcp.html#certificates"><i class="fa fa-check"></i><b>6.3.3</b> Certificates<span></span></a></li>
<li class="chapter" data-level="6.3.4" data-path="implementation-in-gcp.html"><a href="implementation-in-gcp.html#identity-aware-proxy"><i class="fa fa-check"></i><b>6.3.4</b> Identity aware proxy<span></span></a></li>
<li class="chapter" data-level="6.3.5" data-path="implementation-in-gcp.html"><a href="implementation-in-gcp.html#audit"><i class="fa fa-check"></i><b>6.3.5</b> Audit<span></span></a></li>
</ul></li>
</ul></li>
<li><a href="references.html#references">References<span></span></a></li>
<li class="divider"></li>
<li>Vilnius Tech 2022</li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">FMISD13207 Cloud Security Technologies</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="security-considerations" class="section level1 hasAnchor" number="5">
<h1><span class="header-section-number">Chapter 5</span> Security considerations<a href="security-considerations.html#security-considerations" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div id="certificates-and-tls" class="section level2 hasAnchor" number="5.1">
<h2><span class="header-section-number">5.1</span> Certificates and TLS<a href="security-considerations.html#certificates-and-tls" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>TLS (Transport Layer Security) encrypts data transmitted over the Internet, ensuring that snoopers and hackers cannot view what you transmit. This is especially important for private and sensitive information such as passwords, credit card numbers, and personal communications. TLS originated from Secure Socket Layers (SSL), which was originally created to secure web sessions in 1994 by Netscape Communications Corporation. SSL 1.0 was never released publicly, while SSL 2.0 was rapidly superseded by SSL 3.0, the foundation for TLS. Historically, data was transferred unencrypted over the Internet, and encryption was often applied piecemeal to critical information such as passwords or payment information. Without TLS, not only may sensitive information such as usernames, passwords, and personal information be easily gathered, but also surfing habits, e-mail conversations, online chats, and conference calls can be observed. By enabling TLS support in client and server apps, it ensures that data exchanged between them is encrypted using secure algorithms and is inaccessible to third parties.</p>
<p>TLS is the most frequently used encryption protocol in the internet. It is composed of two protocols: the TLS Handshake Protocol, which is responsible for authentication and key establishment, and the TLS Record Protocol, which is responsible for the subsequent usage of those keys to secure bulk data. SSL/TLS protects the confidentiality and integrity of data-in-transit by utilizing both asymmetric and symmetric encryption. Asymmetric encryption is used to establish a secure connection between a client and a server, and symmetric encryption is used to exchange data within the secured connection.</p>
<div class="figure">
<img src="img/rsa.png" alt="" />
<p class="caption">Asymmetric (Public Key) Cryptography use case as encryption - source <a href="https://www.twilio.com/blog/what-is-public-key-cryptography" class="uri">https://www.twilio.com/blog/what-is-public-key-cryptography</a></p>
</div>
<p>At a high level, TLS is split into two phases:</p>
<ul>
<li>A handshake phase where a secure communication is negotiated and created between two participants.</li>
<li>A post-handshake phase where communications are encrypted between the two participants.</li>
</ul>
<div class="figure">
<img src="img/handshake.png" alt="" />
<p class="caption">A handshake and post-handshake communitcation</p>
</div>
<p>TLS 1.2 and earlier versions perform the key exchange once both parties agree on the key exchange algorithm to use. This means they first agree on a method to utilize before exchanging public keys.</p>
<p>To eliminate the first round of negotiation (one client message and one server message) in TLS 1.3, the client transmits a public key speculatively in the very first message (the Client Hello). If the client is unable to correctly forecast the server’s key exchange mechanism, the client must send a new Client Hello with the right public key. TLS 1.3 contains numerous such enhancements that are critical for the web. Indeed, many people on the planet have insecure or poor connections, making it critical to restrict non-application communication to a bare minimum. Additionally, unlike prior versions of TLS, all key exchanges in TLS 1.3 are ephemeral. This means that for each new session, both the client and server generate new key pairs and then delete them immediately after the key exchange is complete <span class="citation">(<a href="#ref-wong" role="doc-biblioref">Wong 2021</a>)</span>.</p>
<p><a href="https://freecontent.manning.com/how-does-tls-work/" class="uri">https://freecontent.manning.com/how-does-tls-work/</a></p>
<p><img src="img/tls.PNG" alt="TLS - https://www.a10networks.com/glossary/key-differences-between-tls-1-2-and-tls-1-3/" />
Handshake:</p>
<ul>
<li>Negotiation. TLS is highly configurable. Both a client and a server can be configured to negotiate a range of SSL and TLS versions, as well as a menu of acceptable cryptographic algorithms. The negotiation phase of the handshake aims at finding common ground between the client’s and the server’s configurations, in order to securely connect the two peers.</li>
<li>Key exchange. The whole point of the handshake is to perform a key exchange between the two participants. What key exchange algorithm to use? This is one of the things decided as part of the negotiation process.</li>
<li>Authentication. It is trivial for a MITM attacker to impersonate any side of a key exchange. For this reason, key exchanges must be authenticated. (Your browser must have a way to make sure that it is talking to google.com and not your Internet service provider, for example.)</li>
<li>Session Resumption. As browsers often connect to the same websites again and again, key exchanges can be costly and slow down a user’s experience. For this reason, mechanisms to fast-track secure sessions without redoing a key exchange are integrated into TLS.</li>
</ul>
<p>In TLS 1.3, to avoid that first negotiating round trip (one client message and one server message), the client speculatively sends a public key in the very first message (the Client Hello). If the client fails to predict the server’s choice of key exchange algorithm then the client will have to send a new Client Hello containing the correct public key. For example:</p>
<pre><code>The client sends a TLS 1.3 Client Hello announcing that it can do either an X25519 or an X448 key exchange. 
It also sends an X25519 public key. 
The server does not support X25519, but does support X448. 
It sends a Hello Retry Request to the client announcing that it only supports X448. 
The client sends the same Client Hello but with an X448 public key instead. The handshake goes on.</code></pre>
<p>RSA and the Diffie-Hellman Key Exchange are the two most widely used encryption algorithms, each of which solves the same problem in a somewhat different way. In a nutshell, the Diffie Hellman technique generates a public and private key for each party to the transaction but shares only the public key. Unlike Diffie-Hellman, the RSA algorithm can be used for both digital signatures and symmetric key exchange, although it does need the prior exchange of a public key. RSA is based on the assumption that factoring really large integers is difficult (integer factorization). On the assumption that there is no efficient solution for integer factorization, it is thought that decrypting an RSA ciphertext completely is infeasible.
A user of RSA generates and then publishes their public key, which is composed of two enormous prime integers and an auxiliary value. The primary variables must remain unidentified. While anyone can use the public key to encrypt a message, only someone familiar with the prime factors is likely to be able to decrypt it.
RSA stands for Ron Rivest, Adi Shamir, and Leonard Adleman—the three men who initially publicly defined the approach in 1977. Elliptic curve cryptography (ECC) is based on the algebraic structure of elliptic curves in finite fields. It is believed that computing the discrete logarithm of a random elliptic curve element in regard to a publicly known base point is impossible. In 1985, Neal Koblitz and Victor S. Miller independently pioneered the use of elliptic curves in encryption; ECC techniques gained widespread adoption in 2004. ECC has the advantage over RSA in that the key can be smaller, which improves performance and security. The disadvantage is that not all services and applications are compatible with ECC-based SSL Certificates.</p>
<p>Following that, a CA can provide a signature for the website using the website’s public key. Given that the CA’s signature is typically valid for years, we refer to it as a long-term signing public key (as opposed to an ephemeral public key). More precisely, CAs do not sign public keys directly, but rather sign certificates. A certificate contains the long-term public key, as well as some additional critical metadata, such as the domain name of your web page if you are one. To reassure your browser that the server it is communicating with is truly google.com, the server provides a certificate chain as part of the TLS handshake. This certificate chain consists of the following:</p>
<p>Its own (leaf) certificate, which includes the domain name google.com, Google’s long-term signing public key, and a signature from a certificate authority. A chain of intermediate certificate authority (CA) certificates, beginning with the one that signed Google’s certificate and ending with the root CA that signed the final intermediate CA.</p>
<p>After establishing a handshake and generating symmetric keys, both the client and server can transfer encrypted application data to one another. Not only that, TLS prevents such communications from being replayed or reordered.</p>
</div>
<div id="single-sign-on" class="section level2 hasAnchor" number="5.2">
<h2><span class="header-section-number">5.2</span> Single Sign On<a href="security-considerations.html#single-sign-on" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Authentication and trust mechanisms are needed by the user and provider alike. In this scenario, SSO could be a good starting point. The spam e-mail problem can be also mitigated in the cloud. While often used interchangeably, authentication and authorization represent fundamentally different functions. In simple terms, authentication is the process of verifying who a user is, while authorization is the process of verifying what they have access to.</p>
<div class="figure">
<img src="img/Authentication_vs_Authorization.png" alt="" />
<p class="caption">Authentication vs. Authorization - source www.okta.com</p>
</div>
<p>OAuth 2.0: If you’ve ever signed up to a new application and agreed to let it automatically source new contacts via Facebook or your phone contacts, then you’ve likely used OAuth 2.0. This standard provides secure delegated access. That means an application can take actions or access resources from a server on behalf of the user, without them having to share their credentials. It does this by allowing the identity provider (IdP) to issue tokens to third-party applications with the user’s approval.</p>
<p>OpenID Connect: If you’ve used your Google to sign in to applications like YouTube, or Facebook to log into an online shopping cart, then you’re familiar with this authentication option. OpenID Connect is an open standard that organizations use to authenticate users. IdPs use this so that users can sign in to the IdP, and then access other websites and apps without having to log in or share their sign-in information.</p>
<p>SAML: You’ve more likely experienced SAML authentication in action in the work environment. For example, it enables you to log into your corporate intranet or IdP and then access numerous additional services, such as Salesforce, Box, or Workday, without having to re-enter your credentials. SAML is an XML-based standard for exchanging authentication and authorization data between IdPs and service providers to verify the user’s identity and permissions, then grant or deny their access to services.</p>
<div id="oauth2" class="section level3 hasAnchor" number="5.2.1">
<h3><span class="header-section-number">5.2.1</span> OAuth2<a href="security-considerations.html#oauth2" class="anchor-section" aria-label="Anchor link to header"></a></h3>
</div>
<div id="saml" class="section level3 hasAnchor" number="5.2.2">
<h3><span class="header-section-number">5.2.2</span> SAML<a href="security-considerations.html#saml" class="anchor-section" aria-label="Anchor link to header"></a></h3>
</div>
</div>
<div id="network" class="section level2 hasAnchor" number="5.3">
<h2><span class="header-section-number">5.3</span> Network<a href="security-considerations.html#network" class="anchor-section" aria-label="Anchor link to header"></a></h2>
</div>
</div>
<h3>References<a href="references.html#references" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div id="refs" class="references csl-bib-body hanging-indent">
<div id="ref-wong" class="csl-entry">
Wong, David. 2021. <em>Real-World Cryptography</em>. Manning. <a href="https://www.manning.com/books/real-world-cryptography">https://www.manning.com/books/real-world-cryptography</a>.
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="project-scope.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="implementation-in-gcp.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["CloudTechnologies.pdf"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
